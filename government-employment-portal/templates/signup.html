<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sign Up</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="auth-page">
    <div class="auth-container">
        <div class="auth-left">
            <h1 class="auth-brand-title">Join Our Network</h1>
            <p class="auth-brand-subtitle">Register for fair employment opportunities</p>
        </div>
        <div class="auth-right">
            <a href="/" class="back-link">‚Üê Home</a>
            <h2 class="auth-title">Create Account</h2>
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="flash flash-{{ category }}">{{ message }}</div>
            {% endfor %}
            {% endif %}
            {% endwith %}
            <form method="POST" class="auth-form" id="signupForm">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="email" required>
                </div>
                <div class="form-group">
                    <label>Phone (10 digits)</label>
                    <input type="tel" name="phone" pattern="[0-9]{10}" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" name="password" required>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select name="role" required onchange="toggleFields()">
                        <option value="">Select role</option>
                        <option value="government">Government Officer</option>
                        <option value="worker">Worker</option>
                        <option value="supervisor">Supervisor</option>
                    </select>
                </div>
                <div id="workerFields" style="display:none;">
                    <div class="form-group">
                        <label>District</label>
                        <input type="text" name="district">
                    </div>
                    <div class="form-group">
                        <label>Aadhaar (12 digits)</label>
                        <input type="text" name="aadhaar" pattern="[0-9]{12}">
                    </div>
                    <div class="form-group">
                        <label>Disability Status</label>
                        <select name="disability_status">
                            <option value="No">No</option>
                            <option value="Yes">Yes</option>
                        </select>
                    </div>
                </div>
                <div id="supervisorFields" style="display:none;">
                    <div class="form-group">
                        <label>District</label>
                        <input type="text" name="district">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-full">Sign Up</button>
            </form>
            <div class="auth-footer">
                Have an account? <a href="/login">Login</a>
            </div>
        </div>
    </div>
    <script>
        function toggleFields() {
            const role = document.querySelector('select[name="role"]').value;
            document.getElementById('workerFields').style.display = role === 'worker' ? 'block' : 'none';
            document.getElementById('supervisorFields').style.display = role === 'supervisor' ? 'block' : 'none';
        }
    </script>
</body>
</html>
